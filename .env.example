# ===========================================
# MOSAIC Environment Configuration
# ===========================================

# ===========================================
# API KEYS (Required)
# ===========================================
# Get your Mistral API key from: https://console.mistral.ai/
MISTRAL_API_KEY=your_mistral_api_key_here

# Get your Groq API key from: https://console.groq.com/
GROQ_API_KEY=your_groq_api_key_here

# ===========================================
# SERVER CONFIGURATION
# ===========================================
# MCP Server URL (internal Docker network)
MCP_SERVER_URL=http://mcp-server:9090

# API Server Configuration
API_HOST=0.0.0.0
API_PORT=8000

# Frontend Configuration
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_TELEMETRY_DISABLED=1

# ===========================================
# STORAGE PATHS
# ===========================================
STORAGE_PATH=./storage
UPLOAD_PATH=./storage/uploads
FRAMES_PATH=./storage/frames
CLIPS_PATH=./storage/clips

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_URL=sqlite:///./storage/mosaic.db
CHROMA_PERSIST_DIRECTORY=./storage/chroma_db

# FAISS Index Configuration
FAISS_INDEX_TYPE=Flat  # Options: Flat, IVF (IVF for large datasets)
FAISS_NLIST=100  # Number of clusters for IVF index

# ===========================================
# VIDEO PROCESSING SETTINGS
# ===========================================
# Frame extraction rate (frames per second)
FRAME_RATE=1

# Maximum file size in bytes (1GB default)
MAX_FILE_SIZE=1000000000

# Batch size for processing
BATCH_SIZE=32

# Video quality settings
VIDEO_QUALITY=high  # Options: low, medium, high
MAX_VIDEO_DURATION=3600  # Maximum video duration in seconds (1 hour)

# ===========================================
# AI MODEL SETTINGS
# ===========================================
# Device Configuration (auto, cuda, cpu)
# auto: automatically detect and use GPU if available
# cuda: force GPU usage (will fail if GPU not available)
# cpu: force CPU usage
DEVICE=auto

# Embedding Models
EMBEDDING_MODEL=clip-ViT-B-32
TEXT_EMBEDDING_MODEL=all-MiniLM-L6-v2

# LLM Configuration
LLM_MODEL=mistral-large-latest
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2048

# Whisper Configuration (Audio Transcription)
WHISPER_MODEL=whisper-large-v3-turbo

# Vision Model Configuration
VISION_MODEL=llama-4-maverick-17b-128e-instruct

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # Options: json, text

# ===========================================
# PERFORMANCE SETTINGS
# ===========================================
# Worker processes for API server
WORKERS=4

# Timeout settings (seconds)
REQUEST_TIMEOUT=300
UPLOAD_TIMEOUT=600

# ===========================================
# SECURITY SETTINGS
# ===========================================
# CORS Settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# Secret key for sessions (generate a secure random string)
SECRET_KEY=your_secret_key_here_change_in_production

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
# Set to 'development' or 'production'
NODE_ENV=production

# Enable debug mode (only for development)
DEBUG=false

# Python unbuffered output
PYTHONUNBUFFERED=1

# ===========================================
# DOCKER CONFIGURATION
# ===========================================
# Docker compose project name
COMPOSE_PROJECT_NAME=mosaic

# ===========================================
# OPTIONAL: CLOUD STORAGE (Not implemented yet)
# ===========================================
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_BUCKET=
# AWS_REGION=us-east-1

# ===========================================
# OPTIONAL: MONITORING (Not implemented yet)
# ===========================================
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=production
